#!/bin/bash

curl -X POST http://localhost:8081/subjects/flight_positions-value/versions \
  -H "Content-Type: application/vnd.schemaregistry.v1+json" \
  -d '{"schema":"{\"type\":\"record\",\"name\":\"FlightPosition\",\"namespace\":\"com.flight.analytics\",\"fields\":[{\"name\":\"flight_id\",\"type\":\"string\"},{\"name\":\"hex\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"callsign\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"latitude\",\"type\":\"double\"},{\"name\":\"longitude\",\"type\":\"double\"},{\"name\":\"track\",\"type\":\"float\"},{\"name\":\"altitude\",\"type\":\"float\"},{\"name\":\"gspeed\",\"type\":\"float\"},{\"name\":\"vspeed\",\"type\":\"float\"},{\"name\":\"squawk\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"timestamp\",\"type\":\"long\"},{\"name\":\"source\",\"type\":[\"null\",\"string\"],\"default\":null}]}"}'